@model PagedList.IPagedList<ViewModel.EmployeeList_VM>
@using PagedList.Mvc;
@{
    ViewBag.Title = "teacherlist";
    Layout = "~/Views/Shared/Layout/_SiteManager.cshtml";
}
@{
    string InstituteName = "";
    ViewModel.Institute_Info_Session_VM Institute_info_Session = new ViewModel.Institute_Info_Session_VM();
    if (Session["Institute_info"] != null)
    {
        Institute_info_Session = (ViewModel.Institute_Info_Session_VM)Session["Institute_info"];
        InstituteName = Institute_info_Session.Institute_Types_Caption + " " + Institute_info_Session.name;
    }
}
<!--Create Page Here and Footer-->
<div id="main-body" class="col-md-10 col-sm-10 col-xs-10 valign-top display-table-row">
    <div id="content">
        <header>
            <h4 class="choosed-class-name"><i class="far fa-list-alt"></i>&nbsp;لیست همه کارمند ها</h4>
            <hr class="line-under-title" />

            <!--Breadcrumb-->
            <ol class="breadcrumb">
                <li><a href="classes.html">@InstituteName</a></li>
                <li>لیست کارمندان</li>
            </ol>
        </header>

        <!--Alert Msg-->
        <div class="alert alert-success fade in hidden">
            <a href="#" class="close pull-left" data-dismiss="alert" aria-label="close">&times;</a>
            با موفقیت ثبت گردید!
        </div>

        <div class="alert alert-danger fade in hidden">
            <a href="#" class="close pull-left" data-dismiss="alert" aria-label="close">&times;</a>
            خطا در ثبت اطلاعات
        </div>

        <div class="alert alert-warning fade in hidden">
            <a href="#" class="close pull-left" data-dismiss="alert" aria-label="close">&times;</a>
            ارتباط با سرور قطع شده است!
        </div>
        <!--Search-->
        <div class="row">

            <!--Add Student-->
            <div class="col-md-12">
                <div class="class-action-btn">
                    <a class="btn btn-md btn-default" href="#" data-toggle="modal" data-target="#mymodal" role="button">
                        <span class="fas fa-plus-circle" aria-hidden="true"></span>&nbsp;&nbsp;اضافه کردن کارمند
                    </a>
                </div>
            </div>
            <!--End Add Student-->

            <div class="search-top">
                <h5 class="">برای جستجو یکی از کادرهای زیر را پر کنید:</h5>
                <div class="col-md-4">
                    <input type="text" class="input-search-code" placeholder="کد پرسنلی" />
                </div>
                <div class="col-md-4">
                    <input type="text" class="input-search-meli" placeholder="کد ملی" />
                </div>
                <div class="col-md-4">
                    <input type="text" class="input-search-name" placeholder="نام و نام خانوادگی" />
                </div>
            </div>
        </div>

        <hr class="line-under-title" />
        <!--Table-->
        <div class="table-responsive">
            <table class="table table-striped table-bordered" id="table-employe-list">
                <thead>
                    <tr>
                        <th class="text-center" id="th-employe-row">ردیف</th>
                        <th class="text-center" id="th-employe-picture">عکس</th>
                        <th class="text-center" id="th-employe-name">نام</th>
                        <th class="text-center" id="th-employe-family">نام خانوادگی</th>
                        <th class="text-center" id="th-employe-sex">جنسیت</th>
                        <th class="text-center" id="th-employe-pcode">کد پرسنلی</th>
                        <th class="text-center" id="th-employe-semat">سمت</th>
                        <th class="text-center" id="th-employe-action">عملیات</th>
                    </tr>
                </thead>
                <tbody>
                    @if (Model != null)
                    {
                        int Counter=0;
                        foreach (var item in Model)
                        {
                            Counter++;
                            <tr class="employe-info clickable-row success" data-href="employe-info.html">

                                <td class="text-center td-employe-row">@Counter</td>
                                <td class="text-center td-employe-picture"><img src="~/Content/images/User.png" class="img-responsive" alt="@item.firstname @item.lastname" /></td>
                                <td class="text-center td-employe-name">@item.firstname</td>
                                <td class="text-center td-employe-family">@item.lastname</td>
                                @if (item.gender == null || item.gender == true)
                                {
                                    <td class="text-center td-employe-sex">مرد</td>
                                }
                                else
                                {
                                    <td class="text-center td-employe-sex">زن</td>
                                }

                                <td class="text-center td-employe-pcode">@item.Code</td>
                                <td class="text-center td-employe-semat">@item.JobName</td>
                                <td class="text-center td-employe-action">
                                    <a class="btn btn-default btn-xs"><span class="fas fa-pencil-alt"></span>&nbsp;ویرایش</a>
                                    <a class="btn btn-danger btn-xs" href="#" data-toggle="modal" data-target="#modal-delete" role="button">
                                        <span class="far fa-trash-alt"></span>&nbsp;حذف
                                    </a>
                                </td>
                            </tr>
                        }
                    }
                    
                </tbody>
            </table><!--End Table-->
        </div>

        <!-- Modal For Delete Student -->
        <div class="modal fade" id="modal-delete" role="dialog">
            <div class="modal-dialog modal-sm">
                <div class="modal-content">
                    <!--
                     <div class="modal-header">
                     </div> -->
                    <div class="modal-body text-center">
                        <h4>آیا مایل به حذف هستید؟</h4>
                    </div>
                    <div class="modal-footer text-center">
                        <div class="col-md-6">
                            <button type="button" class="btn btn-default" data-dismiss="modal">خیر</button>
                        </div>
                        <div class="col-md-6">
                            <button type="button" class="btn btn-danger" data-send="modal">بله</button>
                        </div>
                    </div>

                </div>
            </div>
        </div>

        <!-- End Modal For Delete Student -->

        <hr class="line-under-title" />
        <!-- Pagination -->
        <div class="row class-paging">
            <div class="col-md-12 text-center">
                <nav>
                    <ul class="pagination d-flex justify-content-center">
                        @if (Model != null)
                        {
                            Html.PagedListPager(Model, page => Url.Action("Employee_list", "Employee", new { page = page }), new PagedListRenderOptions { FunctionToTransformEachPageLink = (liTag, aTag) => { aTag.Attributes.Add("data-page-no", aTag.InnerHtml); liTag.InnerHtml = aTag.ToString(); return liTag; } });
                        }
                    </ul>
                </nav>
            </div>
        </div> <!-- End Pagination -->
    </div><!--End Container-->
    <!--Footer-->
    <!--Footer
    <footer id="admin-footer" class="hidden-xs">
        <div class="row pull-right">
            <p>پیوندیار سیستم</p>
        </div>
    </footer> -->

</div>
<!--End Page Body-->
