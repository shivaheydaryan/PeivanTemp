@model ViewModel.InstituteInfo_VM

@{
    ViewBag.Title = "institute";
    Layout = "~/Views/Shared/Layout/_Site.cshtml";
}

@{
    MyClass.ImgUrlCreator ImgCreator = new MyClass.ImgUrlCreator();
    List<Models.Grade> InstituteGrades = new List<Models.Grade>();
    if (ViewBag.InstituteGrades != null)
    {
        InstituteGrades = (List<Models.Grade>)ViewBag.InstituteGrades;
    }
}


<!-- Header -->
<header class="masthead each-institute">
    <div class="overlay"></div>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-md-10 mx-auto">
                @if (Model.name != null)
                {
                <div class="head-title text-center pt-5 wow fadeIn fast">
                    @{
                            string in_sName = "";
                            in_sName = Model.InstituteKindName;
                            in_sName += " " + Model.name;

                    }
                    <h2 class="school-name">@in_sName</h2>

                    @{
                            string gener = " پسرانه ";
                            if (Model.boyOrGirl == false)
                            {
                                gener = " دخترانه ";
                            }
                            else if (Model.boyOrGirl == null)
                            {
                                gener = "دخترانه و پسرانه";
                            }
                    }
                    <h5 class="gener">@gener</h5>

                    @{string level = ""; }

                    @foreach (var item in InstituteGrades)
                        {
                            level += item.Name + "  ";
                        }
                    <p class="level">@level</p>

                </div>
                            }

            </div>
        </div>
    </div>
</header>

<!-- Search Option -->
<div id="each-institute">
    <div class="container">
        @if (Model.name != null)
        {
            <div class="card">
                <div class="row">
                    <div class="col-md-12 text-center">
                        @{
                            string logo_src = ImgCreator.InstituteLogoGetURL(Model.id);
                        }
                        <img src="@Url.Content(logo_src)" class="rounded-circle" width="128" height="128" alt="@Model.name">
                    </div>

                    @if (@Model.shoar != null && @Model.shoar != "")
                {
                        <div class="col-md-12 text-center">
                            <div class="shoar">
                                <h6>@Model.shoar</h6>
                            </div>
                        </div>
                    }
                    <!-- Other info -->
                    <div class="col-md-7 col-sm-12">
                        <div class="other-info">
                            <div class="telephone text-right wow fadeInUp faster">
                                <p>
                                    <span class="name">شماره تماس :</span>
                                    <span class="number">@Model.tel1</span>
                                </p>
                                <p>
                                    <span class="name">شماره همراه :</span>
                                    <span class="number">@Model.tel2</span>
                                </p>
                            </div>

                            @if (@Model.Email != null && @Model.Email != "")
                            {
                                <div class="email text-right wow fadeInUp faster">
                                    <span class="name">آدرس ایمیل : </span>
                                    <span class="number">@Model.Email</span>
                                </div>
                            }


                            <div class="social text-center wow fadeInUp faster">
                                @if (Model.Group_Channel1 != null && Model.Group_Channel1 != "")
                                {
                                    <div class="btn-group" role="group" aria-label="Basic example" dir="ltr">
                                        <button type="button" class="btn btn-telegram">@Html.Encode(Model.Group_Channel1)</button>
                                        <button type="button" class="btn btn-telegram-icon">تلگرام</button>
                                    </div>
                                }

                                @if (Model.Group_Channel2 != null && Model.Group_Channel2 != "")
                                {
                                    <div class="btn-group" role="group" aria-label="Basic example" dir="ltr">
                                        <button type="button" class="btn btn-insta">@Model.Group_Channel2 </button>
                                        <button type="button" class="btn btn-insta-icon">اینستاگرام</button>
                                    </div>
                                }



                            </div>
                            <div class="address text-right wow fadeInUp faster">
                                <i class="fas fa-map-marker-alt"></i>
                                <span class="text">@Model.address</span>
                            </div>

                            @if (Model.Description != null && @Model.Description != "")
                            {
                                <div class="other-text text-right wow fadeInUp faster">
                                    <span>@Model.Description</span>
                                </div>
                            }

                        </div>
                    </div>
                    <!-- Google Map -->
                    <div class="col-md-5 col-sm-12 google-map">
                        <iframe src="@Model.Google_Map" width="100%" height="100%" frameborder="0" allowfullscreen></iframe>
                    </div>
                    <!-- Carousel -->
                    <div class="col-md-12">
                        <div id="institute-carousel" class="carousel slide carousel-fade" data-ride="carousel">
                            <ol class="carousel-indicators p-0">
                                @{int img_counter = 0; }
                                @if (ViewBag.Images != null)
                                {
                                    foreach (var image in (IEnumerable<string>)ViewBag.Images)
                                    {
                                        if (img_counter == 0)
                                        {
                                            <li data-target="#institute-carousel" data-slide-to="@img_counter" class="active"></li>
                                        }
                                        else
                                        {
                                            <li data-target="#institute-carousel" data-slide-to="@img_counter"></li>
                                        }
                                        img_counter++;
                                    }
                                }


                            </ol>
                            <div class="carousel-inner">
                                @{img_counter = 0;}
                                @if (ViewBag.Images != null)
                                {
                                    foreach (var image in (IEnumerable<string>)ViewBag.Images)
                                    {
                                        if (img_counter == 0)
                                        {
                                            <div class="carousel-item active">
                                                <img class="d-block w-100" src="@Url.Content(image)" alt="@Model.name">
                                            </div>
                                        }
                                        else
                                        {
                                            <div class="carousel-item">
                                                <img class="d-block w-100" src="@Url.Content(image)" alt="@Model.name">
                                            </div>
                                        }
                                        img_counter++;
                                    }
                                }



                            </div>
                            <a class="carousel-control-prev" href="#institute-carousel" role="button" data-slide="prev">
                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                <span class="sr-only">Previous</span>
                            </a>
                            <a class="carousel-control-next" href="#institute-carousel" role="button" data-slide="next">
                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                <span class="sr-only">Next</span>
                            </a>
                        </div>
                    </div>

                </div>
            </div>
                                    }
                                    else
                                    {
                                        <div class="container">
                                            <div class="alert alert-warning text-center">
                                                <p>آموزشگاهی با این شناسه یافت نشد.</p>
                                            </div>
                                        </div>
                                    }

    </div>
</div>
